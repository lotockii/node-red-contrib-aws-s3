<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html>
<head>

    <script type="text/x-red" data-template-name="amazon s3 in">
        <div class="form-row">
              <label for="node-input-aws"><i class="fa fa-user"></i> <span data-i18n="aws.label.aws"></span></label>
              <input type="text" id="node-input-aws">
          </div>
          <div class="form-row">
              <label for="node-input-bucket"><i class="fa fa-folder"></i> <span data-i18n="aws.label.bucket"></span></label>
              <input type="text" id="node-input-bucket" data-i18n="[placeholder]aws.placeholder.bucket">
          </div>
          <div class="form-row node-input-filepattern">
               <label for="node-input-filepattern"><i class="fa fa-file"></i> <span data-i18n="aws.label.pattern"></span></label>
               <input type="text" id="node-input-filepattern" data-i18n="[placeholder]aws.placeholder.pattern">
          </div>
          <div class="form-row">
              <label for="node-input-region"><i class="fa fa-tag"></i> <span data-i18n="aws.label.region"></span></label>
              <select type="text" id="node-input-region" style="width:70%;">
                <option value="us-east-2">us-east-2</option>
                <option selected value="us-east-1">us-east-1</option>
                <option value="us-west-1">us-west-1</option>
                <option value="us-west-2">us-west-2</option>
                <option value="ap-south-1">ap-south-1</option>
                <option value="ap-northeast-3">ap-northeast-3</option>
                <option value="ap-northeast-2">ap-northeast-2</option>
                <option value="ap-southeast-1">ap-southeast-1</option>
                <option value="ap-southeast-2">ap-southeast-2</option>
                <option value="ap-northeast-1">ap-northeast-1</option>
                <option value="ca-central-1">ca-central-1</option>
                <option value="cn-north-1">cn-north-1</option>
                <option value="cn-northwest-1">cn-northwest-1</option>
                <option value="eu-central-1">eu-central-1</option>
                <option value="eu-west-1">eu-west-1</option>
                <option value="eu-west-2">eu-west-2</option>
                <option value="eu-west-3">eu-west-3</option>
                <option value="eu-north-1">eu-north-1</option>
                <option value="sa-east-1">sa-east-1</option>
              </select>
          </div>
          <div class="form-row">
              <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="aws.label.name"></span></label>
              <input type="text" id="node-input-name" data-i18n="[placeholder]aws.placeholder.name">
          </div>
    </script>
    <script type="text/javascript">
        RED.nodes.registerType('amazon s3 in',{
            category: 'storage-input',
            color:"#88fb6d",
            defaults: {
                aws: {type:"aws-config",required:true},
                bucket: {required:true},
                region: {value:"", required:true},
                filepattern: {value:""},
                name: {value:""},
            },
            inputs:0,
            outputs:1,
            icon: "amazon.png",
            label: function() {
                return this.name ? this.name : "s3 " + this.bucket;
            }
        });
    </script>
    <script type="text/x-red" data-template-name="amazon s3">
        <div class="form-row">
            <label for="node-input-aws"><i class="fa fa-user"></i> <span data-i18n="aws.label.aws"></span></label>
            <input type="text" id="node-input-aws">
        </div>
        <div class="form-row">
            <label for="node-input-bucket"><i class="fa fa-folder"></i> <span data-i18n="aws.label.bucket"></span></label>
            <input type="text" id="node-input-bucket" data-i18n="[placeholder]aws.placeholder.bucket">
        </div>
        <div class="form-row node-input-filename">
            <label for="node-input-filename"><i class="fa fa-file"></i> <span data-i18n="aws.label.filename"></span></label>
            <input type="text" id="node-input-filename" data-i18n="[placeholder]aws.placeholder.filename">
        </div>
        <div class="form-row">
            <label for="node-input-region"><i class="fa fa-tag"></i> <span data-i18n="aws.label.region"></span></label>
            <select type="text" id="node-input-region" style="width:70%;">
                <option value="us-east-2">us-east-2</option>
                <option selected value="us-east-1">us-east-1</option>
                <option value="us-west-1">us-west-1</option>
                <option value="us-west-2">us-west-2</option>
                <option value="ap-south-1">ap-south-1</option>
                <option value="ap-northeast-3">ap-northeast-3</option>
                <option value="ap-northeast-2">ap-northeast-2</option>
                <option value="ap-southeast-1">ap-southeast-1</option>
                <option value="ap-southeast-2">ap-southeast-2</option>
                <option value="ap-northeast-1">ap-northeast-1</option>
                <option value="ca-central-1">ca-central-1</option>
                <option value="cn-north-1">cn-north-1</option>
                <option value="cn-northwest-1">cn-northwest-1</option>
                <option value="eu-central-1">eu-central-1</option>
                <option value="eu-west-1">eu-west-1</option>
                <option value="eu-west-2">eu-west-2</option>
                <option value="eu-west-3">eu-west-3</option>
                <option value="eu-north-1">eu-north-1</option>
                <option value="sa-east-1">sa-east-1</option>
            </select>
        </div>
        <div class="form-row">
            <label for="node-input-createSignedUrl"><i class="fa fa-link"></i>
                <span data-i18n="aws.label.createSignedUrl"></span>
            </label>
            <select type="text" id="node-input-createSignedUrl" style="width:70%;">
                <option value="yes">Yes</option>
                <option selected value="no">No</option>
            </select>
        </div>
        <div class="form-row">
            <label for="node-input-urlExpiration"><i class="fa fa-clock-o"></i> <span data-i18n="aws.label.urlExpiration"></span></label>
            <input type="number" id="node-input-urlExpiration" placeholder="URL Expiration (seconds)">
        </div>
        <div class="form-row">
            <label for="node-input-returnBuffer"><i class="fa fa-file"></i>
                <span data-i18n="aws.label.returnBuffer"></span>
            </label>
            <select type="text" id="node-input-returnBuffer" style="width:70%;">
                <option selected value="yes">Yes</option>
                <option value="no">No</option>
            </select>
        </div>
        <div class="form-row">
            <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="aws.label.name"></span></label>
            <input type="text" id="node-input-name" data-i18n="[placeholder]aws.placeholder.name">
        </div>
    </script>
    <script type="text/javascript">
        RED.nodes.registerType('amazon s3',{
            category: 'storage-output',
            color:"#88fb6d",
            defaults: {
                aws: {type:"aws-config",required:true},
                bucket: {value:""},
                filename: {value:""},
                region: {value:"", required:true},
                name: {value:""},
                createSignedUrl: {value:"no"},
                returnBuffer: {value:"yes"},
            },
            inputs:1,
            outputs:1,
            icon: "amazon.png",
            align: "right",
            label: function() {
                return this.name ? this.name : "s3 "+this.bucket;
            }
        });
    </script>
    <script type="text/x-red" data-template-name="amazon s3 out">
        <div class="form-row">
              <label for="node-input-aws"><i class="fa fa-user"></i> <span data-i18n="aws.label.aws"></span></label>
              <input type="text" id="node-input-aws">
          </div>
          <div class="form-row">
              <label for="node-input-bucket"><i class="fa fa-folder"></i> <span data-i18n="aws.label.bucket"></span></label>
              <input type="text" id="node-input-bucket" data-i18n="[placeholder]aws.placeholder.bucket">
          </div>
          <div class="form-row node-input-filename">
               <label for="node-input-filename"><i class="fa fa-file"></i> <span data-i18n="aws.label.filename"></span></label>
               <input type="text" id="node-input-filename" data-i18n="[placeholder]aws.placeholder.filename">
          </div>
          <div class="form-row node-input-localFilename">
               <label for="node-input-localFilename"><i class="fa fa-file"></i> <span data-i18n="aws.label.local"></span></label>
               <input type="text" id="node-input-localFilename" data-i18n="[placeholder]aws.placeholder.local">
          </div>
          <div class="form-row">
              <label for="node-input-region"><i class="fa fa-tag"></i> <span data-i18n="aws.label.region"></span></label>
              <select type="text" id="node-input-region" style="width:70%;">
                <option value="us-east-2">us-east-2</option>
                <option selected value="us-east-1">us-east-1</option>
                <option value="us-west-1">us-west-1</option>
                <option value="us-west-2">us-west-2</option>
                <option value="ap-south-1">ap-south-1</option>
                <option value="ap-northeast-3">ap-northeast-3</option>
                <option value="ap-northeast-2">ap-northeast-2</option>
                <option value="ap-southeast-1">ap-southeast-1</option>
                <option value="ap-southeast-2">ap-southeast-2</option>
                <option value="ap-northeast-1">ap-northeast-1</option>
                <option value="ca-central-1">ca-central-1</option>
                <option value="cn-north-1">cn-north-1</option>
                <option value="cn-northwest-1">cn-northwest-1</option>
                <option value="eu-central-1">eu-central-1</option>
                <option value="eu-west-1">eu-west-1</option>
                <option value="eu-west-2">eu-west-2</option>
                <option value="eu-west-3">eu-west-3</option>
                <option value="eu-north-1">eu-north-1</option>
                <option value="sa-east-1">sa-east-1</option>
              </select>
          </div>
          <div class="form-row">
              <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="aws.label.name"></span></label>
              <input type="text" id="node-input-name" data-i18n="[placeholder]aws.placeholder.name">
          </div>
    </script>
    <script type="text/javascript">
        RED.nodes.registerType('amazon s3 out',{
            category: 'storage-output',
            color:"#88fb6d",
            defaults: {
                aws: {type:"aws-config",required:true},
                bucket: {value:""},
                filename: {value:""},
                localFilename: {value:""},
                region: {value:"", required:true},
                name: {value:""}
            },
            inputs:1,
            outputs:0,
            icon: "amazon.png",
            align: "right",
            label: function() {
                return this.name ? this.name : "s3 " + this.bucket;
            }
        });
    </script>
    <script type="text/x-red" data-template-name="aws-config">
        <div class="form-row">
              <label for="node-config-input-configname"><i class="fa fa-bookmark"></i> <span data-i18n="aws.label.configname"></span></label>
              <input class="input-append-left" type="text" id="node-config-input-configname" style="width: 40%;" >
          </div>
        <div class="form-row">
              <label for="node-config-input-accesskeyid"><i class="fa fa-bookmark"></i> <span data-i18n="aws.label.keyid"></span></label>
              <input class="input-append-left" type="text" id="node-config-input-accesskeyid" style="width: 40%;" >
          </div>
          <div class="form-row">
              <label for="node-config-input-secretaccesskey"><i class="fa fa-bookmark"></i> <span data-i18n="aws.label.secret"></span></label>
              <input class="input-append-left" type="password" id="node-config-input-secretaccesskey" style="width: 40%;" >
          </div>
          <div class="form-tips">
              <span data-i18n="[html]aws.tip.config1"></span>
              <span data-i18n="[html]aws.tip.config2"></span>
          </div>
         <div class="form-row">
              <label for="node-config-input-endpoint"><i class="fa fa-tag"></i> <span data-i18n="aws.label.endpoint"></span></label>
              <input class="input-append-left" type="text" id="node-config-input-endpoint">
          </div>
         <div class="form-row">
              <label for="node-config-input-forcepathstyle"><i class="fa fa-tag"></i> <span data-i18n="aws.label.forcepathstyle"></span></label>
              <input class="input-append-left" type="checkbox" id="node-config-input-forcepathstyle">
          </div>
         <div class="form-row">
              <label for="node-config-input-skiptlsverify"><i class="fa fa-tag"></i> <span data-i18n="aws.label.skiptlsverify"></span></label>
              <input class="input-append-left" type="checkbox" id="node-config-input-skiptlsverify">
          </div>
          <div class="form-tips">
              <span data-i18n="[html]aws.tip.config3"></span>
              <span data-i18n="[html]aws.tip.config4"></span>
          </div>
    </script>
    <script type="text/javascript">
        (function() {

            RED.nodes.registerType('aws-config',{
                category: 'config',
                defaults: {
                    endpoint: {value: "",required:false},
                    forcepathstyle: {value: false},
                    skiptlsverify: { value: false },
                    configname: { value: "AWS-S3" }
                },
                credentials: {
                    accesskeyid: {type:"text",required:true},
                    secretaccesskey: {type: "password",required:true},
                },
                label: function() {
                    return this.configname ? this.configname : this.credentials.accesskeyid;
                },
                exportable: false,
            });
        })();
    </script>

    <title></title>
</head>

<body>
</body>
</html>